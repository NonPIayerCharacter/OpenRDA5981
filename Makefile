# This file was automagically generated by mbed.org. For more information, 
# see http://mbed.org/handbook/Exporting-to-GCC-ARM-Embedded

# cross-platform directory manipulation
ifeq ($(shell echo $$OS),$$OS)
    MAKEDIR = if not exist "$(1)" mkdir "$(1)"
    RM = rmdir /S /Q "$(1)"
else
    MAKEDIR = $(SHELL) -c "mkdir -p \"$(1)\""
    RM = $(SHELL) -c "rm -rf \"$(1)\""
endif

ifeq (,$(filter .build,$(notdir $(CURDIR))))
.SUFFIXES:
OBJDIR := .build
mkfile_path := $(abspath $(lastword $(MAKEFILE_LIST)))
MAKETARGET = $(MAKE) --no-print-directory -C $(OBJDIR) -f $(mkfile_path) \
		SRCDIR=$(CURDIR) $(MAKECMDGOALS)
.PHONY: $(OBJDIR)
all:
	+@$(call MAKEDIR,$(OBJDIR))
	+@$(MAKETARGET)
$(OBJDIR): all
Makefile : ;
% :: $(OBJDIR) ; :

else

VPATH = .. 

GCC_BIN ?= 
PROJECT = OpenBeken
include ../../../platforms/RDA5981/OpenBeken.mk
OBJECTS += ./hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H/TOOLCHAIN_GCC_ARM/TARGET_UNO_81AM/startup_RDA5981AM.o ./rtos/rtx/TARGET_CORTEX_M/TARGET_RTOS_M4_M7/TOOLCHAIN_GCC/HAL_CM4.o ./rtos/rtx/TARGET_CORTEX_M/TARGET_RTOS_M4_M7/TOOLCHAIN_GCC/SVC_Table.o ./features/frameworks/unity/source/unity.o ./features/mbedtls/src/aes.o ./features/mbedtls/src/aesni.o ./features/mbedtls/src/arc4.o ./features/mbedtls/src/asn1parse.o ./features/mbedtls/src/asn1write.o ./features/mbedtls/src/base64.o ./features/mbedtls/src/bignum.o ./features/mbedtls/src/blowfish.o ./features/mbedtls/src/camellia.o ./features/mbedtls/src/ccm.o ./features/mbedtls/src/certs.o ./features/mbedtls/src/cipher.o ./features/mbedtls/src/cipher_wrap.o ./features/mbedtls/src/ctr_drbg.o ./features/mbedtls/src/debug.o ./features/mbedtls/src/des.o ./features/mbedtls/src/dhm.o ./features/mbedtls/src/ecdh.o ./features/mbedtls/src/ecdsa.o ./features/mbedtls/src/ecjpake.o ./features/mbedtls/src/ecp.o ./features/mbedtls/src/ecp_curves.o ./features/mbedtls/src/entropy.o ./features/mbedtls/src/entropy_poll.o ./features/mbedtls/src/error.o ./features/mbedtls/src/gcm.o ./features/mbedtls/src/havege.o ./features/mbedtls/src/hmac_drbg.o ./features/mbedtls/src/md.o ./features/mbedtls/src/md2.o ./features/mbedtls/src/md4.o ./features/mbedtls/src/md5.o ./features/mbedtls/src/md_wrap.o ./features/mbedtls/src/memory_buffer_alloc.o ./features/mbedtls/src/net.o ./features/mbedtls/src/oid.o ./features/mbedtls/src/padlock.o ./features/mbedtls/src/pem.o ./features/mbedtls/src/pk.o ./features/mbedtls/src/pkcs11.o ./features/mbedtls/src/pkcs12.o ./features/mbedtls/src/pkcs5.o ./features/mbedtls/src/pkparse.o ./features/mbedtls/src/pkwrite.o ./features/mbedtls/src/pk_wrap.o ./features/mbedtls/src/platform.o ./features/mbedtls/src/ripemd160.o ./features/mbedtls/src/rsa.o ./features/mbedtls/src/sha1.o ./features/mbedtls/src/sha256.o ./features/mbedtls/src/sha512.o ./features/mbedtls/src/ssl_cache.o ./features/mbedtls/src/ssl_ciphersuites.o ./features/mbedtls/src/ssl_cli.o ./features/mbedtls/src/ssl_cookie.o ./features/mbedtls/src/ssl_srv.o ./features/mbedtls/src/ssl_ticket.o ./features/mbedtls/src/ssl_tls.o ./features/mbedtls/src/threading.o ./features/mbedtls/src/timing.o ./features/mbedtls/src/version.o ./features/mbedtls/src/version_features.o ./features/mbedtls/src/x509.o ./features/mbedtls/src/x509write_crt.o ./features/mbedtls/src/x509write_csr.o ./features/mbedtls/src/x509_create.o ./features/mbedtls/src/x509_crl.o ./features/mbedtls/src/x509_crt.o ./features/mbedtls/src/x509_csr.o ./features/mbedtls/src/xtea.o ./hal/common/mbed_assert.o ./hal/common/mbed_board.o ./hal/common/mbed_critical.o ./hal/common/mbed_error.o ./hal/common/mbed_gpio.o ./hal/common/mbed_interface.o ./hal/common/mbed_lp_ticker_api.o ./hal/common/mbed_mem_trace.o ./hal/common/mbed_pinmap_common.o ./hal/common/mbed_semihost_api.o ./hal/common/mbed_ticker_api.o ./hal/common/mbed_us_ticker_api.o ./hal/common/mbed_wait_api.o ./hal/hal/TARGET_FLASH_CMSIS_ALGO/flash_common_algo.o ./hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H/cmsis_nvic.o ./hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H/system_RDA5991H.o ./hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H/TOOLCHAIN_GCC_ARM/rda_retarget.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/analogin_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/entropy_hardware_poll.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/gpio_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/gpio_irq_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/i2c_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/lp_ticker.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/mbed_overrides.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/pinmap.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/port_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/pwmout_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/rda_exif_isr.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/rda_gpadc_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/rda_i2s_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/rda_timer_isr.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/rda_wdt_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/rtc_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/serial_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/sleep.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/spi_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/trng_api.o ./hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/us_ticker.o ./rtos/rtos/rtos_idle.o ./rtos/rtx/TARGET_CORTEX_M/HAL_CM.o ./rtos/rtx/TARGET_CORTEX_M/RTX_Conf_CM.o ./rtos/rtx/TARGET_CORTEX_M/rt_CMSIS.o ./rtos/rtx/TARGET_CORTEX_M/rt_Event.o ./rtos/rtx/TARGET_CORTEX_M/rt_List.o ./rtos/rtx/TARGET_CORTEX_M/rt_Mailbox.o ./rtos/rtx/TARGET_CORTEX_M/rt_MemBox.o ./rtos/rtx/TARGET_CORTEX_M/rt_Memory.o ./rtos/rtx/TARGET_CORTEX_M/rt_Mutex.o ./rtos/rtx/TARGET_CORTEX_M/rt_OsEventObserver.o ./rtos/rtx/TARGET_CORTEX_M/rt_Robin.o ./rtos/rtx/TARGET_CORTEX_M/rt_Semaphore.o ./rtos/rtx/TARGET_CORTEX_M/rt_System.o ./rtos/rtx/TARGET_CORTEX_M/rt_Task.o ./rtos/rtx/TARGET_CORTEX_M/rt_Time.o ./rtos/rtx/TARGET_CORTEX_M/rt_Timer.o ./features/net/FEATURE_LWIP/lwip-interface/emac_lwip.o ./features/net/FEATURE_LWIP/lwip-interface/lwip_stack.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_api_lib.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_api_msg.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_err.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_netbuf.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_netdb.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_netifapi.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_sockets.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/api/lwip_tcpip.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_def.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_dns.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_inet_chksum.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_init.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_ip.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_mem.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_memp.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_netif.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_pbuf.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_raw.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_stats.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_sys.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_tcp.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_tcp_in.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_tcp_out.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_timeouts.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/lwip_udp.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_autoip.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_dhcp.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_etharp.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_icmp.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_igmp.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_ip4.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_ip4_addr.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4/lwip_ip4_frag.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_dhcp6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_ethip6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_icmp6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_inet6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_ip6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_ip6_addr.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_ip6_frag.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_mld6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6/lwip_nd6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/netif/lwip_ethernet.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/netif/lwip_ethernetif.o ./features/net/FEATURE_LWIP/lwip-interface/lwip/src/netif/lwip_lowpan6.o ./features/net/FEATURE_LWIP/lwip-interface/lwip-sys/arch/lwip_checksum.o ./features/net/FEATURE_LWIP/lwip-interface/lwip-sys/arch/lwip_memcpy.o ./features/net/FEATURE_LWIP/lwip-interface/lwip-sys/arch/lwip_sys_arch.o ./features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/src/rda59xx_daemon.o ./features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/src/rda59xx_lwip.o ./features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/src/rda_sys_wrapper.o ./features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/src/wland_flash_wp.o ./features/TARGET_RDA/FEATURE_SDCARD/hal/sdmmc.o ./features/TARGET_RDA/FEATURE_CONSOLE/cmd_basic.o ./features/TARGET_RDA/FEATURE_CONSOLE/console.o ./features/TARGET_RDA/FEATURE_CONSOLE/rda_console.o ./features/frameworks/greentea-client/source/greentea_serial.o ./features/frameworks/greentea-client/source/test_env.o ./features/frameworks/utest/mbed-utest-shim.o ./features/frameworks/utest/source/unity_handler.o ./features/frameworks/utest/source/utest_case.o ./features/frameworks/utest/source/utest_default_handlers.o ./features/frameworks/utest/source/utest_greentea_handlers.o ./features/frameworks/utest/source/utest_harness.o ./features/frameworks/utest/source/utest_shim.o ./features/frameworks/utest/source/utest_stack_trace.o ./features/frameworks/utest/source/utest_types.o ./features/net/netsocket/NetworkInterface.o ./features/net/netsocket/NetworkStack.o ./features/net/netsocket/nsapi_dns.o ./features/net/netsocket/Socket.o ./features/net/netsocket/SocketAddress.o ./features/net/netsocket/TCPServer.o ./features/net/netsocket/TCPSocket.o ./features/net/netsocket/UDPSocket.o ./features/net/netsocket/WiFiAccessPoint.o ./hal/api/FlashIAP.o ./hal/common/AnalogIn.o ./hal/common/BusIn.o ./hal/common/BusInOut.o ./hal/common/BusOut.o ./hal/common/CallChain.o ./hal/common/CAN.o ./hal/common/Ethernet.o ./hal/common/FileBase.o ./hal/common/FileLike.o ./hal/common/FilePath.o ./hal/common/FileSystemLike.o ./hal/common/I2C.o ./hal/common/I2CSlave.o ./hal/common/InterruptIn.o ./hal/common/InterruptManager.o ./hal/common/LocalFileSystem.o ./hal/common/mbed_alloc_wrappers.o ./hal/common/mbed_rtc_time.o ./hal/common/RawSerial.o ./hal/common/retarget.o ./hal/common/Serial.o ./hal/common/SerialBase.o ./hal/common/SPI.o ./hal/common/SPISlave.o ./hal/common/Stream.o ./hal/common/Ticker.o ./hal/common/Timeout.o ./hal/common/Timer.o ./hal/common/TimerEvent.o ./rtos/rtos/Mutex.o ./rtos/rtos/RtosTimer.o ./rtos/rtos/Semaphore.o ./rtos/rtos/Thread.o ./features/net/FEATURE_LWIP/lwip-interface/emac_stack_lwip.o ./features/net/FEATURE_LWIP/lwip-interface/EthernetInterface.o ./features/net/FEATURE_LWIP/lwip-interface/WiFiStackInterface.o ./features/TARGET_RDA/FEATURE_SDCARD/fs/fat/FATDirHandle.o ./features/TARGET_RDA/FEATURE_SDCARD/fs/fat/FATFileHandle.o ./features/TARGET_RDA/FEATURE_SDCARD/fs/fat/FATFileSystem.o ./features/TARGET_RDA/FEATURE_SDCARD/fs/fat/ChaN/ccsbcs.o ./features/TARGET_RDA/FEATURE_SDCARD/fs/fat/ChaN/diskio.o ./features/TARGET_RDA/FEATURE_SDCARD/fs/fat/ChaN/ff.o ./features/TARGET_RDA/FEATURE_SDCARD/fs/sdmmc/SDMMCFileSystem.o ./features/TARGET_RDA/FEATURE_GPADCKEY/gpadckey.o ./features/net/FEATURE_LWIP/lwip-interface/mqtt.o 
SYS_OBJECTS = 
INCLUDE_PATHS += -I../TESTS/TARGET_RDA/uartwifi/ping -I.././ -I.././docs -I.././features -I.././features/frameworks -I.././features/frameworks/greentea-client -I.././features/frameworks/greentea-client/greentea-client -I.././features/frameworks/greentea-client/source -I.././features/frameworks/unity -I.././features/frameworks/unity/source -I.././features/frameworks/unity/unity -I.././features/frameworks/utest -I.././features/frameworks/utest/source -I.././features/frameworks/utest/utest -I.././features/mbedtls -I.././features/mbedtls/importer -I.././features/mbedtls/inc -I.././features/mbedtls/inc/mbedtls -I.././features/mbedtls/src -I.././features/net -I.././features/net/netsocket -I.././features/storage -I.././features/TARGET_RDA -I.././hal -I.././hal/api -I.././hal/common -I.././hal/hal -I.././hal/hal/storage_abstraction -I.././hal/hal/TARGET_FLASH_CMSIS_ALGO -I.././hal/targets -I.././hal/targets/cmsis -I.././hal/targets/cmsis/TARGET_RDA -I.././hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H -I.././hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H/TOOLCHAIN_GCC_ARM -I.././hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H/TOOLCHAIN_GCC_ARM/TARGET_UNO_81AM -I.././hal/targets/cmsis/TOOLCHAIN_GCC -I.././hal/targets/hal -I.././hal/targets/hal/TARGET_RDA -I.././hal/targets/hal/TARGET_RDA/TARGET_UNO_91H -I.././hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/TOOLCHAIN_GCC_ARM -I.././rtos -I.././rtos/rtos -I.././rtos/rtx -I.././rtos/rtx/TARGET_CORTEX_M -I.././rtos/rtx/TARGET_CORTEX_M/TARGET_RTOS_M4_M7 -I.././rtos/rtx/TARGET_CORTEX_M/TARGET_RTOS_M4_M7/TOOLCHAIN_GCC -I.././features/TARGET_RDA/FEATURE_SMART_CONFIG -I.././features/TARGET_RDA/FEATURE_SMART_CONFIG/inc -I.././features/TARGET_RDA/FEATURE_SMART_CONFIG/lib -I.././features/TARGET_RDA/FEATURE_SMART_CONFIG/lib/TOOLCHAIN_GCC_ARM -I.././features/net/FEATURE_LWIP -I.././features/net/FEATURE_LWIP/lwip-interface -I.././features/net/FEATURE_LWIP/lwip-interface/lwip -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/api -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/core -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv4 -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/core/ipv6 -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/include -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/include/lwip -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/include/lwip/priv -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/include/netif -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/include/netif/ppp -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/include/netif/ppp/polarssl -I.././features/net/FEATURE_LWIP/lwip-interface/lwip/src/netif -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-eth -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-eth/arch -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-sys -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-sys/arch -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/inc -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/inc/lib -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/lib -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/lib/TOOLCHAIN_GCC_ARM -I.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/src -I.././features/TARGET_RDA/FEATURE_AIRKISS -I.././features/TARGET_RDA/FEATURE_AIRKISS/inc -I.././features/TARGET_RDA/FEATURE_AIRKISS/lib -I.././features/TARGET_RDA/FEATURE_AIRKISS/lib/TOOLCHAIN_GCC_ARM -I.././features/TARGET_RDA/FEATURE_SDCARD -I.././features/TARGET_RDA/FEATURE_SDCARD/fs -I.././features/TARGET_RDA/FEATURE_SDCARD/fs/fat -I.././features/TARGET_RDA/FEATURE_SDCARD/fs/fat/ChaN -I.././features/TARGET_RDA/FEATURE_SDCARD/fs/sdmmc -I.././features/TARGET_RDA/FEATURE_SDCARD/hal -I.././features/TARGET_RDA/FEATURE_GPADCKEY -I.././features/TARGET_RDA/FEATURE_CONSOLE -I../. 
LIBRARY_PATHS = -L.././hal/targets/hal/TARGET_RDA/TARGET_UNO_91H/TOOLCHAIN_GCC_ARM -L.././features/net/FEATURE_LWIP/lwip-interface/lwip-wifi/arch/TARGET_RDA/TARGET_UNO_91H/lib/TOOLCHAIN_GCC_ARM -L.././features/TARGET_RDA/FEATURE_AIRKISS/lib/TOOLCHAIN_GCC_ARM -L.././features/TARGET_RDA/FEATURE_SMART_CONFIG/lib/TOOLCHAIN_GCC_ARM 
LIBRARIES = -lhal -l_smartconfig -lwifi_sta_ap -l_airkiss 
LINKER_SCRIPT = .././hal/targets/cmsis/TARGET_RDA/TARGET_UNO_91H/TOOLCHAIN_GCC_ARM/TARGET_UNO_81AM/RDA5981AM.ld

############################################################################### 
AS      = $(GCC_BIN)arm-none-eabi-as
CC      = $(GCC_BIN)arm-none-eabi-gcc
CPP     = $(GCC_BIN)arm-none-eabi-g++
LD      = $(GCC_BIN)arm-none-eabi-gcc
OBJCOPY = $(GCC_BIN)arm-none-eabi-objcopy
OBJDUMP = $(GCC_BIN)arm-none-eabi-objdump
SIZE    = $(GCC_BIN)arm-none-eabi-size 

ifeq ($(HARDFP),1)
	FLOAT_ABI = hard
else
	FLOAT_ABI = softfp
endif

TIMESTAMP = $(shell date +%s)

CPU = -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=$(FLOAT_ABI)

CC_SYMBOLS += -DFEATURE_LWIP=1 -D__MBED__=1 -DTARGET_LIKE_MBED -DTARGET_UNO_91H -DTARGET_RTOS_M4_M7 -DDEVICE_LOWPOWERTIMER=1 -DDEVICE_RTC=1 -DTOOLCHAIN_object -D__CMSIS_RTOS -DMBEDTLS_ENTROPY_HARDWARE_ALT -DTARGET_FLASH_CMSIS_ALGO -DTOOLCHAIN_GCC -DTARGET_UNO_81AM -DTARGET_CORTEX_M -DTARGET_LIKE_CORTEX_M4 -DTARGET_M4 -DTARGET_UVISOR_UNSUPPORTED -DFEATURE_GPADCKEY=1 -DDEVICE_SERIAL=1 -DDEVICE_INTERRUPTIN=1 -DDEVICE_PORTOUT=1 -D__CORTEX_M4 -DFEATURE_SMART_CONFIG=1 -DDEVICE_STDIO_MESSAGES=1 -D__FPU_PRESENT=1 -DDEVICE_PORTIN=1 -DFEATURE_CONSOLE=1 -DFEATURE_AIRKISS=1 -DDEVICE_PORTINOUT=1 -D__MBED_CMSIS_RTOS_CM -DDEVICE_SLEEP=1 -DTOOLCHAIN_GCC_ARM -DMBED_BUILD_TIMESTAMP=$(TIMESTAMP) -DDEVICE_SPI=1 -DDEVICE_ANALOGIN=1 -DDEVICE_PWMOUT=1 -DTARGET_RDA -DDEVICE_FLASH=1 -DARM_MATH_CM4 -DMBED_CONF_LWIP_IPV4_ENABLED=1 -DMBED_CONF_LWIP_IP_VER_PREF=4 -DNDEBUG -Os

CC_FLAGS += -c -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -Wno-unused-variable -Wno-implicit-fallthrough -fmessage-length=0 -fno-exceptions -fno-builtin -ffunction-sections -fdata-sections -funsigned-char -MMD -fno-delete-null-pointer-checks -fomit-frame-pointer -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=$(FLOAT_ABI) -std=gnu99 $(CC_SYMBOLS) -include mbed_config.h -MMD -MP

CPPC_FLAGS += -c -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -fmessage-length=0 -fno-exceptions -fno-builtin -ffunction-sections -fdata-sections -funsigned-char -MMD -fno-delete-null-pointer-checks -fomit-frame-pointer -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=$(FLOAT_ABI) -std=gnu++98 -fno-rtti -Wvla $(CC_SYMBOLS) -include mbed_config.h -MMD -MP

ASM_FLAGS += -x assembler-with-cpp -D__CORTEX_M4 -DARM_MATH_CM4 -D__FPU_PRESENT=1 -D__MBED_CMSIS_RTOS_CM -D__CMSIS_RTOS -DMBEDTLS_ENTROPY_HARDWARE_ALT -c -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -fmessage-length=0 -fno-exceptions -fno-builtin -ffunction-sections -fdata-sections -funsigned-char -MMD -fno-delete-null-pointer-checks -fomit-frame-pointer -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=$(FLOAT_ABI) -g0 -Os

LD_FLAGS += -Wl,--gc-sections -Wl,--wrap,main -Wl,--wrap,_malloc_r -Wl,--wrap,_free_r -Wl,--wrap,_realloc_r -Wl,--wrap,_calloc_r -Wl,--wrap,_sbrk -mcpu=cortex-m4 -mthumb -mfpu=fpv4-sp-d16 -mfloat-abi=softfp
LD_SYS_LIBS = -lstdc++ -lsupc++ -lm -lc -lgcc -specs=nano.specs

.PHONY: all lst size

all: $(PROJECT).bin $(PROJECT).hex size



.asm.o:
	+@$(call MAKEDIR,$(dir $@))
	@ echo "build_asm $@"
	@$(CC) $(CPU) -c $(ASM_FLAGS) $(CC_SYMBOLS) $(INCLUDE_PATHS) -o $@ $<
.s.o:
	@ echo "build_s $@"
	+@$(call MAKEDIR,$(dir $@))
	@$(CC) $(CPU) -c $(ASM_FLAGS) $(CC_SYMBOLS) $(INCLUDE_PATHS) -o $@ $<
.S.o:
	@ echo "build_S $@"
	+@$(call MAKEDIR,$(dir $@))
	@$(CC) $(CPU) -c $(ASM_FLAGS) $(CC_SYMBOLS) $(INCLUDE_PATHS) -o $@ $<

.c.o:
	@ echo "build_c $@"
	+@$(call MAKEDIR,$(dir $@))
	@$(CC)  $(CC_FLAGS) $(CC_SYMBOLS) $(INCLUDE_PATHS) -o $@ $<

.cpp.o:
	@ echo "build_cpp $@"
	+@$(call MAKEDIR,$(dir $@))
	@$(CPP) $(CPPC_FLAGS) $(CC_SYMBOLS) $(INCLUDE_PATHS) -o $@ $<

$(PROJECT).elf: $(OBJECTS) $(SYS_OBJECTS) $(LINKER_SCRIPT)
	$(LD) $(LD_FLAGS) -T$(filter %.ld, $^) $(LIBRARY_PATHS) -o $@ $(filter %.o, $^) -Wl,--start-group $(LIBRARIES) $(LD_SYS_LIBS) -Wl,--end-group


$(PROJECT).bin: $(PROJECT).elf
	$(OBJCOPY) -O binary $< $@

$(PROJECT).hex: $(PROJECT).elf
	@$(OBJCOPY) -O ihex $< $@

$(PROJECT).lst: $(PROJECT).elf
	@$(OBJDUMP) -Sdh $< > $@

lst: $(PROJECT).lst

size: $(PROJECT).elf
	$(SIZE) $(PROJECT).elf

DEPS = $(OBJECTS:.o=.d) $(SYS_OBJECTS:.o=.d)
-include $(DEPS)

.PHONY: clean
clean:
	rm -f $(OBJECTS)
	rm -f $(patsubst %.o,%.d,$(OBJECTS))

endif
